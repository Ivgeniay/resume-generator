<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Resume - {{personalInfo.fullName}}</title>
		<style>
			{{CSS}}
		</style>
	</head>
	<body>
		<div class="container">
			<header class="header">
				<h1 data-editable="personalInfo.fullName">
					{{personalInfo.fullName}}
				</h1>
				<h2 data-editable="personalInfo.position">
					{{personalInfo.position}}
				</h2>
				<div class="contact-info">
					<span data-editable="personalInfo.email"
						>{{personalInfo.email}}</span
					>
					<span data-editable="personalInfo.phone"
						>{{personalInfo.phone}}</span
					>
					<span data-editable="personalInfo.location"
						>{{personalInfo.location}}</span
					>
				</div>
			</header>

			<section class="section">
				<h3>Professional Experience</h3>
				<div class="experience-list" id="experience-container"></div>
			</section>

			<section class="section">
				<h3>Education</h3>
				<div class="education-list" id="education-container"></div>
			</section>

			<section class="section">
				<h3>Skills</h3>
				<div class="skills-list" id="skills-container"></div>
			</section>
		</div>

		<script>
			const resumeData = {{RESUME_DATA}};

			// Experience
			const expContainer = document.getElementById('experience-container');
			if (resumeData.experience) {
			    expContainer.innerHTML = resumeData.experience.map((item, index) => `
			        <div class="experience-item">
			            <div class="experience-header">
			                <h4>
			                    <span data-editable="experience.${index}.position">${item.position}</span>
			                    at
			                    <span data-editable="experience.${index}.company">${item.company}</span>
			                </h4>
			                <span class="dates">
			                    <span data-editable="experience.${index}.startDate">${item.startDate}</span>
			                    -
			                    <span data-editable="experience.${index}.endDate">${item.endDate}</span>
			                </span>
			            </div>
			            <p class="description" data-editable="experience.${index}.description">${item.description}</p>
			        </div>
			    `).join('');
			}

			// Education
			const eduContainer = document.getElementById('education-container');
			if (resumeData.education) {
			    eduContainer.innerHTML = resumeData.education.map((item, index) => `
			        <div class="education-item">
			            <div class="education-header">
			                <h4>
			                    <span data-editable="education.${index}.degree">${item.degree}</span>
			                    in
			                    <span data-editable="education.${index}.fieldOfStudy">${item.fieldOfStudy}</span>
			                </h4>
			                <span class="dates">
			                    <span data-editable="education.${index}.startDate">${item.startDate}</span>
			                    -
			                    <span data-editable="education.${index}.endDate">${item.endDate}</span>
			                </span>
			            </div>
			            <p class="institution" data-editable="education.${index}.institution">${item.institution}</p>
			            ${item.description ? `<p class="description" data-editable="education.${index}.description">${item.description}</p>` : ''}
			        </div>
			    `).join('');
			}

			// Skills
			const skillsContainer = document.getElementById('skills-container');
			if (resumeData.skills) {
			    skillsContainer.innerHTML = resumeData.skills.map((skill, index) => `
			        <span class="skill-item" data-editable="skills.${index}">${skill}</span>
			    `).join('');
			}
		</script>
	</body>
</html>
